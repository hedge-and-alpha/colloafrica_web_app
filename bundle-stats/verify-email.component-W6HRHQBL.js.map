{
  "version": 3,
  "sources": ["src/app/modules/auth/pages/verify-email/verify-email.component.ts", "src/app/modules/auth/pages/verify-email/verify-email.component.html"],
  "sourcesContent": ["import { Component } from '@angular/core';\r\nimport { ButtonPrimaryDirective } from '../../../../directives/button-primary/button-primary.directive';\r\nimport { OtpComponent } from '../../../../components/otp/otp.component';\r\nimport { AuthFormLayoutComponent } from '../../layouts/auth-form-layout/auth-form-layout.component';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { emptyFieldValidator } from '../../../../validators/emptyField.validator';\r\nimport { FormErrorComponent } from '../../../../components/form-error/form-error.component';\r\nimport { AuthApiService } from '../../../../services/api/auth-api.service';\r\nimport { Router } from '@angular/router';\r\nimport { ButtonLoadingDirective } from '../../../../directives/button-loading/button-loading.directive';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { AlertService } from '../../../../components/alert/alert.service';\r\nimport { AuthService } from '../../../../services/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'ca-verify-email',\r\n  standalone: true,\r\n  templateUrl: './verify-email.component.html',\r\n  styleUrl: './verify-email.component.css',\r\n  imports: [\r\n    ReactiveFormsModule,\r\n    AuthFormLayoutComponent,\r\n    ButtonLoadingDirective,\r\n    ButtonPrimaryDirective,\r\n    FormErrorComponent,\r\n    OtpComponent,\r\n  ],\r\n})\r\nexport class VerifyEmailComponent {\r\n  isSubmitted = false;\r\n  loading = false;\r\n  resending = false;\r\n\r\n  form = this.fb.group(\r\n    {\r\n      otp: [\r\n        null,\r\n        [Validators.required, Validators.maxLength(6), emptyFieldValidator],\r\n      ],\r\n    },\r\n    { updateOn: 'submit' }\r\n  );\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n    private api: AuthApiService,\r\n    private alertService: AlertService,\r\n    private auth: AuthService\r\n  ) {}\r\n\r\n  resendVerificationCode() {\r\n    this.resending = true;\r\n    this.api.resendVerificationCode(this.auth.email!).subscribe({\r\n      next: ({ message, status }) => {\r\n        this.resending = false;\r\n        this.alertService.open('success', {\r\n          summary: status,\r\n          details: message,\r\n        });\r\n      },\r\n      error: (error: HttpErrorResponse) => {\r\n        this.resending = false;\r\n        this.alertService.open('danger', {\r\n          summary: error.error.status + ' ' + error.status,\r\n          details: error.error.message,\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.isSubmitted = true;\r\n\r\n    if (this.form.invalid) return;\r\n    this.loading = true;\r\n\r\n    this.api.EmailVerification(this.form.value.otp!).subscribe({\r\n      next: ({ message, status }) => {\r\n        this.router.navigate(['/auth']);\r\n        this.loading = false;\r\n        this.alertService.open('success', {\r\n          summary: status,\r\n          details: message,\r\n        });\r\n      },\r\n      error: (error: HttpErrorResponse) => {\r\n        this.loading = false;\r\n        this.alertService.open('danger', {\r\n          summary: error.error.status + ' ' + error.status,\r\n          details: error.error.message,\r\n        });\r\n      },\r\n    });\r\n  }\r\n}\r\n", "<ca-auth-form-layout>\r\n  <div class=\"text-center pt-6\">\r\n    <img src=\"assets/images/verify-email.png\" alt=\"\" class=\"inline-block\" />\r\n\r\n    <hgroup class=\"mt-5\">\r\n      <h1 class=\"leading-1.2 font-semibold\">Verify email address</h1>\r\n      <p>Enter the 6-digit code sent to your email address</p>\r\n    </hgroup>\r\n\r\n    <form [formGroup]=\"form\" (ngSubmit)=\"handleSubmit()\">\r\n      <div class=\"mt-11 mb-14 max-w-[28.75rem] mx-auto\">\r\n        <ca-otp formControlName=\"otp\" [size]=\"6\" />\r\n\r\n        @if (isSubmitted && form.get('otp')?.errors) {\r\n        <ca-form-error [errors]=\"form.get('otp')?.errors\" />\r\n        }\r\n      </div>\r\n\r\n      <div class=\"max-w-[25rem] mx-auto\">\r\n        <button\r\n          type=\"submit\"\r\n          class=\"w-full\"\r\n          ca-button-primary\r\n          [loading]=\"loading\"\r\n        >\r\n          Continue\r\n        </button>\r\n      </div>\r\n    </form>\r\n\r\n    <p class=\"text-center my-8 lg:mb-12 inline-flex gap-2\">\r\n      Didn't receive OTP?\r\n      <button\r\n        class=\"text-purple-main border-0 font-medium\"\r\n        [loading]=\"resending\"\r\n        (click)=\"resendVerificationCode()\"\r\n      >\r\n        Resend OTP\r\n      </button>\r\n    </p>\r\n  </div>\r\n</ca-auth-form-layout>\r\n"],
  "mappings": "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",
  "names": ["\u0275\u0275element", "\u0275\u0275property", "tmp_1_0", "ctx_r0", "form", "get", "errors", "VerifyEmailComponent", "constructor", "fb", "router", "api", "alertService", "auth", "isSubmitted", "loading", "resending", "group", "otp", "Validators", "required", "maxLength", "emptyFieldValidator", "updateOn", "resendVerificationCode", "email", "subscribe", "next", "message", "status", "open", "summary", "details", "error", "handleSubmit", "invalid", "EmailVerification", "value", "navigate", "\u0275\u0275directiveInject", "FormBuilder", "Router", "AuthApiService", "AlertService", "AuthService", "selectors", "standalone", "features", "\u0275\u0275StandaloneFeature", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275listener", "\u0275\u0275template", "VerifyEmailComponent_Conditional_11_Template", "\u0275\u0275advance", "\u0275\u0275conditional", "tmp_2_0", "ReactiveFormsModule", "\u0275NgNoValidate", "NgControlStatus", "NgControlStatusGroup", "FormGroupDirective", "FormControlName", "AuthFormLayoutComponent", "ButtonLoadingDirective", "ButtonPrimaryDirective", "FormErrorComponent", "OtpComponent", "styles", "_VerifyEmailComponent"]
}
