import{a as k}from"./chunk-PZH53WPJ.js";import{a as M}from"./chunk-BM2XRWJR.js";import{a as q}from"./chunk-WZUBMPMB.js";import{a as P}from"./chunk-C35JOCL5.js";import{m as F,n as w}from"./chunk-6AAVNBZZ.js";import{b as B,c as G}from"./chunk-6FJPZUDG.js";import{Ab as v,Bb as S,Fc as C,Mb as s,Sa as m,Sb as b,Ta as u,Ub as y,gd as E,ib as g,id as _,kb as l,kd as x,ld as N,od as D,pb as h,qa as c,sd as A,tb as o,td as L,ub as a,vb as d,xd as R,yd as j,zd as I}from"./chunk-22TXYSPT.js";var T=i=>({"ng-dirty ng-touched":i});function V(i,n){if(i&1&&d(0,"ca-form-error",8),i&2){let p=S();l("errors",p.email==null?null:p.email.errors)}}var te=(()=>{let n=class n{constructor(t,r,e,f){this.fb=t,this.router=r,this.api=e,this.alertService=f,this.isSubmitted=!1,this.loading=!1,this.form=this.fb.group({email:[null,[_.required]]},{updateOn:"submit"})}get email(){return this.form.get("email")}handleSubmit(){this.isSubmitted=!0,!this.form.invalid&&(this.loading=!0,this.api.forgotPassword(this.form.value.email).subscribe({next:({message:t,status:r})=>{this.loading=!1,this.form.reset(),this.alertService.open("success",{summary:r,details:t}),this.router.navigate(["/","auth","forgot-password","reset"])},error:t=>{this.loading=!1,this.alertService.open("danger",{summary:t.error.status+" "+t.status,details:t.error.message})}}))}};n.\u0275fac=function(r){return new(r||n)(u(R),u(F),u(q),u(P))},n.\u0275cmp=c({type:n,selectors:[["ca-forgot-password"]],standalone:!0,features:[b],decls:20,vars:7,consts:[[1,"text-center","pt-6","max-w-[32.25rem]","mx-auto"],[1,"mt-5"],[1,"leading-1.2","font-semibold"],[3,"ngSubmit","formGroup"],[1,"mt-11","mb-16"],["label","Email","labelFor","email",3,"isRequired"],[1,"ca-at"],["id","email","type","email","formControlName","email",3,"ngClass"],[1,"text-start","block",3,"errors"],[1,"max-w-[25rem]","mx-auto"],["type","submit","ca-button-primary","",1,"w-full",3,"loading"],[1,"text-center","my-8","lg:mb-12"],["routerLink","/auth/sign-in",1,"text-purple-main","hover:underline"]],template:function(r,e){r&1&&(o(0,"ca-auth-form-layout")(1,"div",0)(2,"hgroup",1)(3,"h1",2),s(4,"Forgot password"),a(),o(5,"p"),s(6,"Enter your email address"),a()(),o(7,"form",3),v("ngSubmit",function(){return e.handleSubmit()}),o(8,"div",4)(9,"ca-form-field",5),d(10,"i",6)(11,"input",7),a(),g(12,V,1,1,"ca-form-error",8),a(),o(13,"div",9)(14,"button",10),s(15," Send "),a()()(),o(16,"p",11),s(17," Back to "),o(18,"a",12),s(19,"Login"),a()()()()),r&2&&(m(7),l("formGroup",e.form),m(2),l("isRequired",!0),m(2),l("ngClass",y(5,T,e.isSubmitted&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.invalid)))),m(),h(12,e.isSubmitted&&(e.email!=null&&e.email.dirty||e.email!=null&&e.email.invalid)?12:-1),m(2),l("loading",e.loading))},dependencies:[j,D,E,x,N,A,L,w,C,M,G,I,B,k]});let i=n;return i})();export{te as ForgotPasswordComponent};
//# sourceMappingURL=forgot-password.component-H6L2EPWY.js.map
