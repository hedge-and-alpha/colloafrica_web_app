import{a as D}from"./chunk-6TS25DO7.js";import{a as w}from"./chunk-GTMVJPGY.js";import{a as I}from"./chunk-IMEIHFKW.js";import{a as k}from"./chunk-BM2XRWJR.js";import{a as A}from"./chunk-WZUBMPMB.js";import{a as j}from"./chunk-C35JOCL5.js";import{m as C}from"./chunk-6AAVNBZZ.js";import{b as P,c as N}from"./chunk-6FJPZUDG.js";import{Ab as c,Bb as S,Mb as p,Sa as m,Sb as b,Ta as s,ib as v,id as f,kb as l,kd as _,ld as x,od as E,pb as y,qa as h,sd as V,tb as r,td as F,ub as d,vb as u,xd as M,yd as O,zd as T}from"./chunk-22TXYSPT.js";function L(n,o){if(n&1&&u(0,"ca-form-error",7),n&2){let g,e=S();l("errors",(g=e.form.get("otp"))==null?null:g.errors)}}var $=(()=>{let o=class o{constructor(e,t,i,a,G){this.fb=e,this.router=t,this.api=i,this.alertService=a,this.auth=G,this.isSubmitted=!1,this.loading=!1,this.resending=!1,this.form=this.fb.group({otp:[null,[f.required,f.maxLength(6),I]]},{updateOn:"submit"})}resendVerificationCode(){this.resending=!0,this.api.resendVerificationCode(this.auth.email).subscribe({next:({message:e,status:t})=>{this.resending=!1,this.alertService.open("success",{summary:t,details:e})},error:e=>{this.resending=!1,this.alertService.open("danger",{summary:e.error.status+" "+e.status,details:e.error.message})}})}handleSubmit(){this.isSubmitted=!0,!this.form.invalid&&(this.loading=!0,this.api.EmailVerification(this.form.value.otp).subscribe({next:({message:e,status:t})=>{this.router.navigate(["/auth"]),this.loading=!1,this.alertService.open("success",{summary:t,details:e})},error:e=>{this.loading=!1,this.alertService.open("danger",{summary:e.error.status+" "+e.status,details:e.error.message})}}))}};o.\u0275fac=function(t){return new(t||o)(s(M),s(C),s(A),s(j),s(w))},o.\u0275cmp=h({type:o,selectors:[["ca-verify-email"]],standalone:!0,features:[b],decls:19,vars:5,consts:[[1,"text-center","pt-6"],["src","assets/images/verify-email.png","alt","",1,"inline-block"],[1,"mt-5"],[1,"leading-1.2","font-semibold"],[3,"ngSubmit","formGroup"],[1,"mt-11","mb-14","max-w-[28.75rem]","mx-auto"],["formControlName","otp",3,"size"],[3,"errors"],[1,"max-w-[25rem]","mx-auto"],["type","submit","ca-button-primary","",1,"w-full",3,"loading"],[1,"text-center","my-8","lg:mb-12","inline-flex","gap-2"],[1,"text-purple-main","border-0","font-medium",3,"click","loading"]],template:function(t,i){if(t&1&&(r(0,"ca-auth-form-layout")(1,"div",0),u(2,"img",1),r(3,"hgroup",2)(4,"h1",3),p(5,"Verify email address"),d(),r(6,"p"),p(7,"Enter the 6-digit code sent to your email address"),d()(),r(8,"form",4),c("ngSubmit",function(){return i.handleSubmit()}),r(9,"div",5),u(10,"ca-otp",6),v(11,L,1,1,"ca-form-error",7),d(),r(12,"div",8)(13,"button",9),p(14," Continue "),d()()(),r(15,"p",10),p(16," Didn't receive OTP? "),r(17,"button",11),c("click",function(){return i.resendVerificationCode()}),p(18," Resend OTP "),d()()()()),t&2){let a;m(8),l("formGroup",i.form),m(2),l("size",6),m(),y(11,i.isSubmitted&&((a=i.form.get("otp"))!=null&&a.errors)?11:-1),m(2),l("loading",i.loading),m(4),l("loading",i.resending)}},dependencies:[O,E,_,x,V,F,k,N,T,P,D],styles:[`[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(5.53rem,4.915rem + 2.7333vw,7.375rem);aspect-ratio:1}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{font-size:clamp(1.5rem,1.1667rem + 1.4815vw,2.5rem)}
/*# sourceMappingURL=verify-email.component.css.map */`]});let n=o;return n})();export{$ as VerifyEmailComponent};
//# sourceMappingURL=verify-email.component-W6HRHQBL.js.map
