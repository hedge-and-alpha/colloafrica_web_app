import{a as j}from"./chunk-JEL53BJG.js";import{a as V}from"./chunk-GTMVJPGY.js";import{a as H}from"./chunk-JWWMHESD.js";import{a as C}from"./chunk-IMEIHFKW.js";import{a as O}from"./chunk-PZH53WPJ.js";import{a as $}from"./chunk-WZUBMPMB.js";import{a as z}from"./chunk-C35JOCL5.js";import{m as E,n as q}from"./chunk-6AAVNBZZ.js";import{b as B,c as G}from"./chunk-6FJPZUDG.js";import{Ab as N,Bb as f,Fc as F,Mb as v,Sa as r,Sb as w,Ta as g,Ub as b,a as y,ed as R,gd as T,ib as d,id as c,kb as t,kd as P,ld as A,od as I,pb as p,qa as S,sd as M,tb as a,td as k,ub as o,vb as l,xd as D,yd as L,zd as U}from"./chunk-22TXYSPT.js";var h=i=>({"ng-dirty ng-touched":i});function K(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.firstName==null?null:n.firstName.errors)}}function Q(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.lastName==null?null:n.lastName.errors)}}function W(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.email==null?null:n.email.errors)}}function X(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.phoneNumber==null?null:n.phoneNumber.errors)}}function Y(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.password==null?null:n.password.errors)}}function Z(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.form.errors)}}function x(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n=f();t("errors",n.referralCode==null?null:n.referralCode.errors)}}function ee(i,m){if(i&1&&l(0,"ca-form-error",7),i&2){let n,u=f();t("errors",(n=u.form.get("subscription"))==null?null:n.errors)}}var he=(()=>{let m=class m{constructor(u,s,e,_,J){this.fb=u,this.router=s,this.api=e,this.auth=_,this.alertService=J,this.isSubmitted=!1,this.loading=!1,this.form=this.fb.group({first_name:[null,[c.required,C()]],last_name:[null,[c.required,C()]],email:[null,[c.required,c.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),C()]],password:[null,[c.required,C()]],password_confirmation:[null,[c.required,C()]],phone_number:[null,[c.required,C()]],referral_code:[null,[C()]],subscription:[!1,[c.requiredTrue]]},{validators:[H],updateOn:"submit"})}ngOnInit(){}get firstName(){return this.form.get("first_name")}get lastName(){return this.form.get("last_name")}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get passwordConfirmation(){return this.form.get("password_confirmation")}get phoneNumber(){return this.form.get("phone_number")}get referralCode(){return this.form.get("referral_code")}handleSubmit(){if(this.isSubmitted=!0,this.form.invalid)return;this.loading=!0;let u=y({},this.form.value);delete u.subscription,this.auth.email=u.email,this.api.registerUser(u).subscribe({next:({message:s,status:e})=>{this.loading=!1,this.form.reset(),this.alertService.open("success",{summary:e,details:s},1e4),this.router.navigate(["/auth/verify-email"])},error:s=>{this.loading=!1,this.alertService.open("danger",{summary:s.error.status+" "+s.status,details:s.error.message})}})}};m.\u0275fac=function(s){return new(s||m)(g(D),g(E),g($),g(V),g(z))},m.\u0275cmp=S({type:m,selectors:[["ca-signup-form"]],standalone:!0,features:[w],decls:49,vars:34,consts:[[1,"font-semibold","leading-1.2","mb-8"],[3,"ngSubmit","formGroup"],[1,"mb-6"],["col-1",""],["label","First Name","labelFor","first_name",3,"isRequired"],[1,"ca-user-circle"],["id","first_name","type","text","formControlName","first_name",3,"ngClass"],[3,"errors"],["col-2",""],["label","Last Name","labelFor","last_name",3,"isRequired"],["id","last_name","type","text","formControlName","last_name",3,"ngClass"],["label","Email","labelFor","email",3,"isRequired"],[1,"ca-at"],["id","email","type","email","formControlName","email",3,"ngClass"],["label","Phone Number","labelFor","phone",3,"isRequired"],[1,"ca-phone"],["id","phone","type","tel","formControlName","phone_number",3,"ngClass"],["label","Password","labelFor","password",3,"isRequired"],["type","password","id","password","formControlName","password",3,"ngClass"],["label","Confirm Password","labelFor","confirm_password",3,"isRequired"],["type","password","id","confirm_password","formControlName","password_confirmation",3,"ngClass"],["label","Referral Code (optional)","labelFor","referral"],["type","text","id","referral","formControlName","referral_code"],[1,"mb-12"],[1,"flex","items-start","gap-3"],["type","checkbox","id","subscribe","formControlName","subscription"],["for","subscribe",1,"text-sm"],["type","submit","ca-button-primary","",1,"w-full",3,"loading"],[1,"mt-6","mb-10","text-center","text-sm","font-medium"],["routerLink","/auth/sign-in",1,"text-purple-main","hover:underline"]],template:function(s,e){if(s&1&&(a(0,"h1",0),v(1,"Sign Up"),o(),a(2,"form",1),N("ngSubmit",function(){return e.handleSubmit()}),a(3,"ca-cols-field-2",2)(4,"div",3)(5,"ca-form-field",4),l(6,"i",5)(7,"input",6),o(),d(8,K,1,1,"ca-form-error",7),o(),a(9,"div",8)(10,"ca-form-field",9),l(11,"i",5)(12,"input",10),o(),d(13,Q,1,1,"ca-form-error",7),o()(),a(14,"div",2)(15,"ca-form-field",11),l(16,"i",12)(17,"input",13),o(),d(18,W,1,1,"ca-form-error",7),o(),a(19,"div",2)(20,"ca-form-field",14),l(21,"i",15)(22,"input",16),o(),d(23,X,1,1,"ca-form-error",7),o(),a(24,"ca-cols-field-2",2)(25,"div",3)(26,"ca-form-field",17),l(27,"input",18),o(),d(28,Y,1,1,"ca-form-error",7),o(),a(29,"div",8)(30,"ca-form-field",19),l(31,"input",20),o(),d(32,Z,1,1,"ca-form-error",7),o()(),a(33,"div",2)(34,"ca-form-field",21),l(35,"input",22),o(),d(36,x,1,1,"ca-form-error",7),o(),a(37,"div",23)(38,"div",24),l(39,"input",25),a(40,"label",26),v(41," By submitting this form, I acknowledge that I am subscribing to emails related to ColloAfrica "),o()(),d(42,ee,1,1,"ca-form-error",7),o(),a(43,"button",27),v(44," Sign up "),o(),a(45,"p",28),v(46," Already have an account? "),a(47,"a",29),v(48,"Login"),o()()()),s&2){let _;r(2),t("formGroup",e.form),r(3),t("isRequired",!0),r(2),t("ngClass",b(22,h,e.isSubmitted&&((e.firstName==null?null:e.firstName.dirty)||(e.firstName==null?null:e.firstName.invalid)))),r(),p(8,e.isSubmitted&&(e.firstName!=null&&e.firstName.dirty||e.firstName!=null&&e.firstName.invalid)?8:-1),r(2),t("isRequired",!0),r(2),t("ngClass",b(24,h,e.isSubmitted&&((e.lastName==null?null:e.lastName.dirty)||(e.lastName==null?null:e.lastName.invalid)))),r(),p(13,e.isSubmitted&&(e.lastName!=null&&e.lastName.dirty||e.lastName!=null&&e.lastName.invalid)?13:-1),r(2),t("isRequired",!0),r(2),t("ngClass",b(26,h,e.isSubmitted&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.invalid)))),r(),p(18,e.isSubmitted&&(e.email!=null&&e.email.dirty||e.email!=null&&e.email.invalid)?18:-1),r(2),t("isRequired",!0),r(2),t("ngClass",b(28,h,e.isSubmitted&&((e.phoneNumber==null?null:e.phoneNumber.dirty)||(e.phoneNumber==null?null:e.phoneNumber.invalid)))),r(),p(23,e.isSubmitted&&(e.phoneNumber!=null&&e.phoneNumber.dirty||e.phoneNumber!=null&&e.phoneNumber.invalid)?23:-1),r(3),t("isRequired",!0),r(),t("ngClass",b(30,h,e.isSubmitted&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.invalid)))),r(),p(28,e.isSubmitted&&(e.password!=null&&e.password.dirty||e.password!=null&&e.password.invalid)?28:-1),r(2),t("isRequired",!0),r(),t("ngClass",b(32,h,e.isSubmitted&&((e.passwordConfirmation==null?null:e.passwordConfirmation.dirty)||(e.passwordConfirmation==null?null:e.passwordConfirmation.invalid)))),r(),p(32,e.isSubmitted&&(e.passwordConfirmation!=null&&e.passwordConfirmation.dirty||e.passwordConfirmation!=null&&e.passwordConfirmation.invalid)?32:-1),r(4),p(36,e.isSubmitted&&(e.referralCode!=null&&e.referralCode.dirty||e.referralCode!=null&&e.referralCode.invalid)?36:-1),r(6),p(42,e.isSubmitted&&((_=e.form.get("subscription"))!=null&&_.errors)?42:-1),r(),t("loading",e.loading)}},dependencies:[L,I,T,R,P,A,M,k,q,F,U,G,j,B,O],styles:[`[_nghost-%COMP%]   [type=checkbox][_ngcontent-%COMP%]{margin-top:4.5px}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,1.1667rem + 1.4815vw,2.5rem)}
/*# sourceMappingURL=signup-form.component.css.map */`]});let i=m;return i})();export{he as SignupFormComponent};
//# sourceMappingURL=signup-form.component-JFUINXHW.js.map
