import"./chunk-JEL53BJG.js";import{a as Q}from"./chunk-6TS25DO7.js";import{a as J}from"./chunk-GTMVJPGY.js";import{a as R}from"./chunk-IMEIHFKW.js";import{a as H}from"./chunk-PZH53WPJ.js";import"./chunk-BM2XRWJR.js";import{a as Z}from"./chunk-WZUBMPMB.js";import{a as Y}from"./chunk-C35JOCL5.js";import{k as v,m as V,n as C,p as D}from"./chunk-6AAVNBZZ.js";import{b as K,c as W}from"./chunk-6FJPZUDG.js";import{Ab as P,Bb as E,Fc as T,Lb as O,Mb as c,Sa as s,Ta as d,Ub as k,Uc as x,Vb as N,ga as g,gd as j,ib as _,id as y,kb as l,kd as A,ld as q,od as B,pb as L,qa as u,ra as h,sd as z,tb as n,td as G,ub as m,vb as a,xd as U,ya as b,yd as $,za as M,zb as I,zd as X}from"./chunk-22TXYSPT.js";var te=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["ca-auth"]],decls:1,vars:0,template:function(o,i){o&1&&a(0,"router-outlet")},dependencies:[v]});let t=e;return t})();var ie=t=>({"ng-dirty ng-touched":t}),me=(t,e)=>({"ca-eye":t,"ca-eye-slash":e});function ae(t,e){if(t&1&&a(0,"ca-form-error",7),t&2){let f=E();l("errors",f.email==null?null:f.email.errors)}}function se(t,e){if(t&1&&a(0,"ca-form-error",7),t&2){let f,r=E();l("errors",(f=r.form.get("password"))==null?null:f.errors)}}var oe=(()=>{let e=class e{constructor(r,o,i,p,S){this.fb=r,this.router=o,this.api=i,this.auth=p,this.alertService=S,this.inputType="password",this.isSubmitted=!1,this.loading=!1,this.form=this.fb.group({email:[null,[y.required,y.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),R()]],password:[null,[y.required,R()]]},{updateOn:"submit"})}ngOnInit(){}get email(){return this.form.get("email")}get password(){return this.form.get("password")}handleSubmit(){this.isSubmitted=!0,!this.form.invalid&&(this.loading=!0,this.api.login(this.form.value).subscribe({next:({message:r,status:o})=>{this.loading=!1,this.auth.url?this.router.navigateByUrl(this.auth.url):this.router.navigate(["/"])},error:r=>{this.loading=!1,this.alertService.open("danger",{summary:r.error.status+" "+r.status,details:r.error.message})}}))}};e.\u0275fac=function(o){return new(o||e)(d(U),d(V),d(Z),d(J),d(Y))},e.\u0275cmp=u({type:e,selectors:[["ca-signin-form"]],decls:23,vars:16,consts:[["passwordInput",""],[1,"font-semibold","leading-1.2","mb-8"],[3,"ngSubmit","formGroup"],[1,"mb-6"],["label","Email","labelFor","email",3,"isRequired"],[1,"ca-at"],["id","email","type","email","formControlName","email",3,"ngClass"],[3,"errors"],["label","Password","labelFor","password",3,"isRequired"],["type","password","id","password","formControlName","password",3,"ngClass"],[3,"click","ngClass"],[1,"text-purple-main","mb-8","font-medium"],["routerLink","/auth/forgot-password"],["type","submit","ca-button-primary","",1,"w-full",3,"loading"],[1,"mt-6","mb-10","text-center","text-sm","font-medium"],["routerLink","/auth/sign-up",1,"text-purple-main","hover:underline"]],template:function(o,i){if(o&1){let p=I();n(0,"h1",1),c(1,"Login"),m(),n(2,"form",2),P("ngSubmit",function(){return b(p),M(i.handleSubmit())}),n(3,"div",3)(4,"ca-form-field",4),a(5,"i",5)(6,"input",6),m(),_(7,ae,1,1,"ca-form-error",7),m(),n(8,"div",3)(9,"ca-form-field",8),a(10,"input",9,0),n(12,"i",10),P("click",function(){b(p);let F=O(11);return M(F.type==="password"?F.type="text":F.type="password")}),m()(),_(13,se,1,1,"ca-form-error",7),m(),n(14,"p",11)(15,"a",12),c(16,"Forgot Password?"),m()(),n(17,"button",13),c(18," Login "),m(),n(19,"p",14),c(20," Don't have an account? "),n(21,"a",15),c(22,"Register"),m()()()}if(o&2){let p=O(11);s(2),l("formGroup",i.form),s(2),l("isRequired",!0),s(2),l("ngClass",k(9,ie,i.isSubmitted&&((i.email==null?null:i.email.dirty)||(i.email==null?null:i.email.invalid)))),s(),L(7,i.isSubmitted&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.invalid)?7:-1),s(2),l("isRequired",!0),s(),l("ngClass",k(11,ie,i.isSubmitted&&((i.password==null?null:i.password.dirty)||(i.password==null?null:i.password.invalid)))),s(2),l("ngClass",N(13,me,p.type==="password",p.type==="text")),s(),L(13,i.isSubmitted&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.invalid)?13:-1),s(4),l("loading",i.loading)}},dependencies:[T,B,j,A,q,z,G,C,W,X,K,H],styles:[`[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,1.1667rem + 1.4815vw,2.5rem)}
/*# sourceMappingURL=signin-form.component.css.map */`]});let t=e;return t})();var re=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["ca-auth-layout"]],decls:9,vars:0,consts:[[1,"min-h-screen","layout"],[1,"h-full","hidden","md:block"],["src","assets/images/auth-illustration.svg","alt","",1,"w-full","h-full","block"],[1,"bg-white","h-full","px-4","xl:ps-10","pt-14"],[1,"max-w-[32.25rem]","mx-auto"],["routerLink","/auth"],["src","assets/images/logo.svg","alt","",1,"logo"],[1,"mt-8"]],template:function(o,i){o&1&&(n(0,"div",0)(1,"div",1),a(2,"img",2),m(),n(3,"div",3)(4,"div",4)(5,"a",5),a(6,"img",6),m(),n(7,"div",7),a(8,"router-outlet"),m()()()())},dependencies:[v,C],styles:[`[_nghost-%COMP%]   .layout[_ngcontent-%COMP%]{background:#ededed;display:grid}[_nghost-%COMP%]   .layout[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:clamp(6.9375rem,4.6042rem + 10.3704vw,13.9375rem)}@media screen and (min-width: 48rem){[_nghost-%COMP%]   .layout[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media screen and (min-width: 64rem){[_nghost-%COMP%]   .layout[_ngcontent-%COMP%]{grid-template-columns:58.33% 41.67%}}
/*# sourceMappingURL=auth-layout.component.css.map */`]});let t=e;return t})();var le=[{path:"",component:te,children:[{path:"",component:re,children:[{path:"sign-in",component:oe,title:"Sign in"},{path:"sign-up",loadComponent:()=>import("./signup-form.component-JFUINXHW.js").then(t=>t.SignupFormComponent),title:"Sign up"},{path:"",redirectTo:"sign-in",pathMatch:"full"}]},{path:"verify-email",loadComponent:()=>import("./verify-email.component-W6HRHQBL.js").then(t=>t.VerifyEmailComponent)}]},{path:"forgot-password",children:[{path:"",redirectTo:"email",pathMatch:"full"},{path:"email",loadComponent:()=>import("./forgot-password.component-H6L2EPWY.js").then(t=>t.ForgotPasswordComponent)},{path:"reset",loadComponent:()=>import("./reset-password.component-5X7Z3GGZ.js").then(t=>t.ResetPasswordComponent)}]}],ne=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=h({type:e}),e.\u0275inj=g({imports:[D.forChild(le),D]});let t=e;return t})();var et=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=h({type:e}),e.\u0275inj=g({imports:[x,$,ne,Q]});let t=e;return t})();export{et as AuthModule};
//# sourceMappingURL=auth.module-DPPWZW4Z.js.map
